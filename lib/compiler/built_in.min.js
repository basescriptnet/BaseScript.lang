Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});globalThis||=window||global||this||{};
globalThis.BS={through(a,b,d,c){if("number"!=typeof a||"number"!=typeof b)throw new TypeError(`Number is expected on the line ${d}, col ${c}.`);d=[];c=Math.min(a,b);b=Math.max(a,b);for(let f=c;f<=b;f++)d.push(f);a!=c&&(d=d.reverse());return d},sum(a,b){if("string"===typeof a){if("string"!==typeof b)throw new TypeError('String was expected for concatination, got "'+BS.typeof(b)+'" insetead');return a.concat(b)}if(BS.types.Number(a)){if(!BS.types.Number(b))throw new TypeError('Number was expected for math expression, got "'+
BS.typeof(b)+'" insetead');return a+b}if(Array.isArray(a))return[].concat(a,b);if(BS.types.Object(a)&&BS.types.Object(b))return Object.assign({},a,b);throw new TypeError('Number or String was expected for math expression, got "'+BS.typeof(a)+'" insetead');},sub(a,b){if(null===a||void 0===a||null===b||void 0===b)throw new TypeError('"null" or "undefined" cannot be used in math expressions');if("number"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for math expression, got "'+
BS.typeof(b)+'" insetead');return a-b}throw new TypeError('Number or String was expected for math expression, got "'+BS.typeof(a)+'" insetead');},pow(a,b){if(null===a||void 0===a||null===b||void 0===b)throw new TypeError('"null" or "undefined" cannot be used in math expressions');if("number"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for math expression, got "'+BS.typeof(b)+'" insetead');return Math.pow(a,b)}throw new TypeError('Number was expected for math expression, got "'+
BS.typeof(a)+'" insetead');},div(a,b){if(null===a||void 0===a||null===b||void 0===b)throw new TypeError('"null" or "undefined" cannot be used in math expressions');if("number"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for math expression, got "'+BS.typeof(b)+'" insetead');return a/b}throw new TypeError('Number was expected for math expression, got "'+BS.typeof(a)+'" insetead');},mod(a,b){if(null===a||void 0===a||null===b||void 0===b)throw new TypeError('"null" or "undefined" cannot be used in math expressions');
if("number"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for math expression, got "'+BS.typeof(b)+'" insetead');return a%b}throw new TypeError('Number was expected for math expression, got "'+BS.typeof(a)+'" insetead');},mul(a,b){if(null===a||void 0===a||null===b||void 0===b)throw new TypeError('"null" or "undefined" cannot be used in math expressions');if("string"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for repeated concatination, got "'+
BS.typeof(b)+'" insetead');let d="";for(let c=0;c<b;c++)d+=a;return d}if("number"===typeof a){if("number"!==typeof b)throw new TypeError('Number was expected for math expression, got "'+BS.typeof(b)+'" insetead');return a*b}throw new TypeError('Number or String was expected for math expression, got "'+BS.typeof(a)+'" insetead');},delete(a,b){Array.prototype.splice.call(a,b,1);return a},slice(a,b,d,c=1,f,e){if(!Array.isArray(a)&&"string"!=typeof a)throw new TypeError(`Array or string was expected at line ${f}, col ${e}`);
if("number"!=typeof b)throw new TypeError(`Number was expected at line ${f}, col ${e}`);if(null===d&&null===c)return a.slice(b);c=0<=(c|0)?1:-1;b=a.slice(b,d);return-1===c?"string"===typeof a?Array.from(b).reverse().join(""):b.reverse():b},customOperators:{},customTypes:{Any:()=>!0},types:{RegExp(a){return a instanceof RegExp},Array(a){return Array.isArray(a)},Null(a){return null===a},Undefined(a){return void 0===a},Int(a){return parseInt(a)===a&&!Number.isNaN(a)},Float(a){return"number"===typeof a&&
!Number.isNaN(a)},Number(a){return"number"===typeof a&&!Number.isNaN(a)},BigInt(a){return"bigint"===typeof a},NaN(a){return Number.isNaN(a)},String(a){return"string"===typeof a},Function(a){return"function"===typeof a},Symbol(a){return"symbol"===typeof a},Boolean(a){return"boolean"===typeof a},Object(a){return BS.types.HTML&&BS.types.HTML(a)||BS.types.Array(a)?!1:"object"===typeof a&&null!==a}},libs:[],expect(a,b,d){if(this.typeof(b)!==d){if(d in this.customTypes){if(this.customTypes[d](b))return b}else if(d in
this.types&&this.types[d](b))return b;throw new TypeError(`"${d}" was expected for "${a}", got "${this.typeof(b)}"`);}return b},expectValue(a,b){a:for(let c=0;c<b.length;c++){var d="[]"===b[c].slice(-2);let f=b[c];d&&(f=f.slice(0,-2));BS.ifTypeExists(f);if(d){if(!this.types.Array(a))continue;for(d=0;d<a.length;d++)if(!this.validateType(a[d],f))continue a;return a}if(this.validateType(a,b[c]))return a}throw new TypeError(`Value type of "${b.join(" | ")}" was expected, got "${this.typeof(a)}"`);},checkArgType(a,
b,d,c,f){a:for(let g=0;g<a.length;g++){var e="[]"===a[g].slice(-2);let h=a[g];e&&(h=h.slice(0,-2));BS.ifTypeExists(h);if(e){if(!this.types.Array(d))continue;for(e=0;e<d.length;e++)if(!this.validateType(d[e],h))continue a;return d}if(this.validateType(d,a[g]))return d}throw new TypeError(`Argument "${b}" is not type of "${a.join(" | ")}" at line ${c}, col ${f}.`);},convert(a,b,d){let c=this.typeof(a);c&&=c.toLowerCase();let f=null;if("object"!==typeof b&&c==b.toLowerCase())return a;d=function(e,g,
h){h=h||this.typeof(e);switch(g){case "Function":return"function"===typeof e?e:function(){};case "Null":return null;case "Number":case "Float":return f=parseFloat(e),Number.isNaN(f)?0:f;case "Int":return e|0;case "String":return"html"==c?JSON.stringify(this.DOMtoJSON(e)):"array"==c?e.join(""):"object"==c?JSON.stringify(e):"boolean"==c?!!e:"null"==c?"null":"undefined"==c?"undefined":e.toString();case "Array":if("undefined"==c||"null"==c)return[];if("html"==c)return Object.values(this.DOMtoJSON(e));
if("object"==c)return Object.values(e);if("string"==c){try{let k=JSON.parse(c);if("array"==this.typeof(k))return k;throw"err";}catch(k){}return e.split("")}return"number"==c||"int"==c||"float"==c?(""+e).split(""):[e];case "JSON":if("html"==c)return this.DOMtoJSON(e);if("object"==c||"string"==c||"array"==c||"null"==c||"number"==c)return e;throw new TypeError(`Cannot convert ${c} to ${g}`);case "Object":return Object(e);case "Boolean":return!!e}}.bind(this);if("string"!=typeof b){let e=a;console.log(b.length);
for(let g=0;g<b.length;g++)e=d(e,b[g]),console.log({r:e,type:b[g]}),g!=length-1&&e.map&&(e=e.map(h=>{console.log({each:this.convert(h,b[g+1]),type:b[g+1]});return this.convert(h,b[g+1])})),console.log(e)}return d(a,b)},typeof(a){for(let b in this.types)try{if(this.types[b](a))return b}catch(d){}},validateType(a,b,d){let c=null;if(Array.isArray(b))for(let f in b){if(-1<b[f].indexOf("[]","")){if(Array.isArray(a)){let e=!0;for(let g in a)if(!this.validateType(a[g],b[f].replace("[]",""))){e=!1;break}if(e)return!0}}else this.customTypes[b[f].replace("[]",
"")]?c=this.customTypes[b[f].replace("[]","")](a):this.types[b[f].replace("[]","")]&&(c=this.types[b[f].replace("[]","")](a));if(c)return!0}else this.customTypes[b]?c=this.customTypes[b](a):this.types[b]&&(c=this.types[b](a));return c||d&&null===a?!0:!1},isArrayOfType(a,b){if(!Array.isArray(a))return!1;for(let d in a)if(!this.validateType(a[d],[b.replace("[]")]))return!1;return!0},ifTypeExists(a){if(Array.isArray(a)){for(let b in a)if(!this.customTypes[a[b].replace("[]","")]&&!this.types[a[b].replace("[]",
"")])throw new TypeError(`Types ${a[b]} do not exist`);return a}if(this.customTypes[a.replace("[]","")]||this.types[a.replace("[]","")])return a;throw new TypeError(`Type ${a} does not exist`);},sizeof(a){return void 0===a||null===a?0:a instanceof Set||a instanceof Map?a.size:a instanceof Array||a instanceof String?a.length:Object.keys(a).length},deepFreeze(a){var b=Object.getOwnPropertyNames(a);for(const d of b)(b=a[d])&&"object"===typeof b&&globalThis.BS.deepFreeze(b);return Object.freeze(a)},last(a){return 0<
a?a-1:0},defineProperty(a,b,d,c){c=c||{writable:!0,enumerable:!1,configurable:!0};c.value=d;Object.defineProperty(a,b,c)},storage:[]};const BS=globalThis.BS,TypedArrays=Reflect.getPrototypeOf(Int8Array);for(const a of[Array,String,TypedArrays])BS.defineProperty(a.prototype,"at",function(b){b=Math.trunc(b)||0;0>b&&(b+=this.length);if(!(0>b||b>=this.length))return this[b]}),BS.defineProperty(a.prototype,"last",function(){return this[this.length-1]});
BS.defineProperty(String.prototype,"noBreaks",function(){return this.replace(/\r\n?/g,"")});function list(a,b){let d=[];for(let c=0;c<a;c++)"function"===typeof b?d.push(b(c)):d.push(b);return d}globalThis.range=function(a,b,d=!1){void 0===b&&(b=a,a=0);d&&(a>b?b--:b++);let c=a;return{[Symbol.iterator]:()=>({next(){for(;c!==b;){let f=c;a>b?c--:c++;return{value:f,done:!1}}return{done:!0}}})}};
const PI=3.141592653589793,E=2.718281828459045,log=function(){console.log.apply(console,arguments)},sqrt=Math.sqrt.bind(Math),Time={get now(){return Date.now()},get ms(){return(new Date).getMilliseconds()},get seconds(){return(new Date).getSeconds()},get minutes(){return(new Date).getMinutes()},get hours(){return(new Date).getHours()},get day(){return(new Date).getDay()},get month(){return(new Date).getMonth()},get year(){return(new Date).getFullYear()}},sizeof=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");
return a instanceof Set||a instanceof Map?a.size:Object.keys(a).length};
